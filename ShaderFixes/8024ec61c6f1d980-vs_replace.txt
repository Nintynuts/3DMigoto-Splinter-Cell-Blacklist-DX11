// ShadowNet - Decorations

#include "CB/VS_Scaleform.hlsl"
#include "3Dmigoto.hlsl"
#include "loadout.hlsl"

void main(
	int4 v0 : POSITION0,
	out float4 o0 : SV_Position0,
	out float2 o1 : TEXCOORD0)
{
	float4 r0;
	
	r0 = (int4)v0;
	o0 = mul(r0, sf.pos);
	o1 = mul(r0, sf.tex);
	
	stereo_unfix(o0);

	float layer = 5;

	if (texture_filter > 0)
		layer = texture_filter;

	if (texture_filter == -5) // Loadout character
	{
		layer = 4;
		if (fix_mode != 1)
			o1.xy = float2(o1.y,(1-o1.x));
	}

	if (texture_filter == 2.1)
		layer = 5;

	if (texture_filter == 3.1 && (o0.x < -27500 || o0.x > 27500)) // Large BG map
			layer = 1;
	
	gui_element(o0,layer,50);
		
	return;
}